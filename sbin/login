local argv = { ... }
print("UberOS Login")
while true do
  write("Username: ")
  local username = read()
  write("Password: ")
  local password = read("")
  if users.login(username, password) then
    kernel.log("Logging in as " .. username)
    if #argv == 0 then
      thread.runFile("/bin/ush", true, true, users.getUIDByUsername(username))
    else
      thread.runFile(argv[1], true, true, users.getUIDByUsername(username))
    end
    --term.clear()
    --term.setCursorPos(1, 1)
  else
    print("Invalid login\n")
  end
end
